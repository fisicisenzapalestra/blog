<!DOCTYPE html><html lang="it"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Allarme laser fai da te con Arduino - Fisici Senza Palestra</title><meta name="description" content="Vediamo come costruire con pochi euro un sistema di allarme laser con Arduino, funzionante e semplice da implementare."><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://fisicisenzapalestra.github.io/blog/allarme-laser-fai-da-te-con-arduino.html"><link rel="alternate" type="application/atom+xml" href="https://fisicisenzapalestra.github.io/blog/feed.xml"><link rel="alternate" type="application/json" href="https://fisicisenzapalestra.github.io/blog/feed.json"><meta property="og:title" content="Allarme laser fai da te con Arduino"><meta property="og:image" content="https://fisicisenzapalestra.github.io/blog/media/posts/86/allarme-laser.jpg"><meta property="og:site_name" content="Fisici Senza Palestra"><meta property="og:description" content="Vediamo come costruire con pochi euro un sistema di allarme laser con Arduino, funzionante e semplice da implementare."><meta property="og:url" content="https://fisicisenzapalestra.github.io/blog/allarme-laser-fai-da-te-con-arduino.html"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@fisiciSP"><meta name="twitter:title" content="Allarme laser fai da te con Arduino"><meta name="twitter:description" content="Vediamo come costruire con pochi euro un sistema di allarme laser con Arduino, funzionante e semplice da implementare."><meta name="twitter:image" content="https://fisicisenzapalestra.github.io/blog/media/posts/86/allarme-laser.jpg"><link rel="shortcut icon" href="https://fisicisenzapalestra.github.io/blog/media/website/login.png" type="image/x-icon"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700&amp;subset=latin-ext&amp;display=swap" rel="stylesheet"><style>h1,h2,h3,h4,h5,h6,.btn,[type=button],[type=submit],button,.navbar .navbar__menu li,.navbar_mobile_sidebar .navbar__menu li,.feed__author,.post__tag,.post__share>a span,.post__nav-link>span,.footer{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}body,h1,.h1,blockquote,.search__input,.author__name,.author__info>p,.feed__item h2,.post__nav-link{font-family:'Ubuntu',sans-serif}</style><link rel="stylesheet" href="https://fisicisenzapalestra.github.io/blog/assets/css/style.css?v=bef28e44b918280ab92fd1e5381d7792"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://fisicisenzapalestra.github.io/blog/allarme-laser-fai-da-te-con-arduino.html"},"headline":"Allarme laser fai da te con Arduino","datePublished":"2020-04-14T10:19","dateModified":"2020-04-14T10:19","image":{"@type":"ImageObject","url":"https://fisicisenzapalestra.github.io/blog/media/posts/86/allarme-laser.jpg","height":600,"width":1200},"description":"Billy non mi dire che non hai mai visto quegli impianti laser di cui sono pieni tutti i film che riguardano anche solo lontanamente delle rapine di qualsiasi tipo. Ad ogni modo, questo video (oltre ad essere tratto da un fantastico film) ti rinfrescherà la&hellip;","author":{"@type":"Person","name":"Raffaele Farinaro"},"publisher":{"@type":"Organization","name":"Raffaele Farinaro","logo":{"@type":"ImageObject","url":"https://fisicisenzapalestra.github.io/blog/media/website/headerwhite.png","height":100,"width":348}}}</script><script src="https://fisicisenzapalestra.github.io/blog/assets/js/ls.parent-fit.min.js?v=f8467455ea5c88e3e51a4f212d2632bd"></script><script async src="https://fisicisenzapalestra.github.io/blog/assets/js/lazysizes.min.js?v=6a69d476c93de2b78a72acb259abccea"></script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://fisicisenzapalestra.github.io/blog/"><img src="https://fisicisenzapalestra.github.io/blog/media/website/headerwhite.png" alt="Fisici Senza Palestra"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://fisicisenzapalestra.github.io/blog/" target="_self">Home</a></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">Articoli</span><ul class="navbar__submenu level-2" aria-hidden="true"><li class="has-submenu"><span class="is-separator" aria-haspopup="true">Scienze</span><ul class="navbar__submenu level-3" aria-hidden="true"><li><a href="https://fisicisenzapalestra.github.io/blog/dalweb/" target="_self">Dal web</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/dubbi-esistenziali/" target="_self">Dubbi esistenziali</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/medicina/" target="_self">Esplorando il corpo umano</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/paradossi/" target="_self">Paradossi</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/scoperte/" target="_self">Scoperte</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/pillole-di-scienza/" target="_self">Pillole di scienza</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/fisica/" target="_self">Fisica</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/chimica/" target="_self">Chimica</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/matematica/" target="_self">Matematica</a></li></ul></li><li><a href="https://fisicisenzapalestra.github.io/blog/raccontipoesie/" target="_self">Racconti/poesie</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/musica/" target="_self">Musica</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/interviste/" target="_self">Interviste</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/filosofia/" target="_self">Filosofia</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/da-ex-studente-a-studente/" target="_self">Da (ex) studente a studente</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/arte/" target="_self">Arte</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/varie/" target="_self">Varie</a></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">Tecnologie</span><ul class="navbar__submenu level-3" aria-hidden="true"><li><a href="https://fisicisenzapalestra.github.io/blog/tecnologia/" target="_self">Tecnologia</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/appunti-di-un-giovane-nerd/" target="_self">Appunti di un giovane nerd</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/arduino/" target="_self">Arduino</a></li></ul></li></ul></li><li><a href="https://fisicisenzapalestra.github.io/blog/about.html" target="_self">About</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/collabora.html" target="_self">Collabora</a></li><li><a href="https://fisicisenzapalestra.github.io/blog/seminari/" target="_self">Seminari</a></li><li><a href="https://paypal.me/pools/c/8o8TxkLfAY" target="_blank">Aiutaci</a></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><form action="https://fisicisenzapalestra.github.io/blog/search.html" class="search__form"><input class="search__input js-search-input" type="search" name="q" placeholder="search..." autofocus="autofocus"></form><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://fisicisenzapalestra.github.io/blog/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><figure class="hero__image"><img class="hero__image-img lazyload" data-src="https://fisicisenzapalestra.github.io/blog/media/posts/86/allarme-laser.jpg" data-srcset="https://fisicisenzapalestra.github.io/blog/media/posts/86/responsive/allarme-laser-xs.jpg 300w ,https://fisicisenzapalestra.github.io/blog/media/posts/86/responsive/allarme-laser-sm.jpg 480w ,https://fisicisenzapalestra.github.io/blog/media/posts/86/responsive/allarme-laser-md.jpg 768w ,https://fisicisenzapalestra.github.io/blog/media/posts/86/responsive/allarme-laser-lg.jpg 1024w ,https://fisicisenzapalestra.github.io/blog/media/posts/86/responsive/allarme-laser-xl.jpg 1360w ,https://fisicisenzapalestra.github.io/blog/media/posts/86/responsive/allarme-laser-2xl.jpg 1600w" data-aspectratio="2" data-sizes="auto" alt="" height="600" width="1200"></figure><header class="hero__content"><div class="wrapper"><h1>Allarme laser fai da te con Arduino</h1><div class="post__meta post__meta--author"><img class="lazyload post__author-thumb" data-src="https://fisicisenzapalestra.github.io/blog/media/website/lozioraf.jpg" alt="Raffaele Farinaro"> <a href="https://fisicisenzapalestra.github.io/blog/authors/raffaele-farinaro/" class="feed__author invert">Raffaele Farinaro</a></div></div></header></div><div class="wrapper post__entry"><p>Billy non mi dire che non hai mai visto quegli impianti laser di cui sono pieni tutti i film che riguardano anche solo lontanamente delle rapine di qualsiasi tipo. Ad ogni modo, questo video (oltre ad essere tratto da un fantastico film) ti rinfrescherà la memoria:</p><figure class="post__video"><iframe class="lazyload" width="560" height="314" data-src="https://www.youtube.com/embed/1_vfXQ71n0E" allowfullscreen="allowfullscreen" data-mce-fragment="1"></iframe></figure><p style="text-align: left;">Anche se in versione molto ridotta è senza tutto quel movimento, oggi andremo a ricreare uno strumento dalle stesse funzionalità (anche se il principio di funzionamento è diversissimo).</p><h2>Occorrente</h2><p>Abbiamo bisogno, oltre all'Arduino e alla millefori, di:</p><ul><li>un led rosso ed uno verde</li><li>un <a href="http://www.ebay.it/itm/2PCS-Miniature-Electronic-Buzzer-5V-for-Arduino-/221490558025?pt=Automazione_domestica&amp;hash=item3391ddb449">buzzer</a></li><li>un pulsante/bottone</li><li>un <a href="http://amzn.to/1Wy8Dkk">laser</a></li><li>un <a href="http://www.ebay.it/itm/321458143026?ssPageName=STRK:MEWNX:IT&amp;_trksid=p3984.m1439.l2649">fotoresistore</a></li></ul><p>Tutto è acquistabile online per una spesa complessiva di meno di cinque euro, un prezzo più che accettabile.</p><h2>Il codice</h2><p>Bisogna ora dire ad Arduino cosa fare. Per prima cosa ho deciso di utilizzare un pulsante che mi permetta di scegliere se il sistema è acceso o spento, e conseguentemente accendere il led rosso o quello verde. Per fare questo dobbiamo scrivere qualcosa come il codice:</p><pre>const int rosso = 9;
const int verde = 8;
const int pulsante = 7;
int stato=0; // All'inizio il sistema è spento.
int val=0; // Memorizza il valore dello stato tra un ciclo e l'altro
void setup() {
 pinMode(verde, OUTPUT); // Inizializzo l'uscita dei pin verdi.
 pinMode(rosso, OUTPUT); // Inizializzo l'uscita dei pin rossi.
 pinMode(pulsante, INPUT); // Inizializzo l'uscita dei pin del pulsante
}
 void loop() {
val = digitalRead(pulsante); // Leggo lo stato del segnale
 delay(10);
 if (val == HIGH) { // E' un trucchetto per conservare il
 stato = 1 - stato; // valore della scelta fatta col pulsante.
 }
 if (stato == HIGH) { // Se ho premuto il pulsante accendo il sistema
 digitalWrite(rosso, LOW);
 digitalWrite(verde, HIGH);
 else { // Se non ho premuto il pulsante accendo il red rosso
 digitalWrite(verde, LOW);
 digitalWrite(rosso, HIGH);
 }
 }</pre><p>In questo modo abbiamo un programma che ci permette, tramite la pressione di un pulsante, di scegliere tra due «stati» del sistema, che per noi saranno acceso e spento. Andiamo ora quindi a dettagliare cosa deve fare il sistema quando viene acceso: bisogna far sì che il laser si accenda e che il fotoresistore, in caso di mancanza di luce (che gli forniremo puntando il laser contro lo stesso) faccia suonare il buzzer come se fosse scattato l'allarme. Per fare questo, implementiamo il nuovo codice (Listing 2.)</p><pre>// Definiamo delle costanti per semplificare il linguaggio:
const int giallo = 11; 
const int rosso = 9; 
const int verde = 8; 
const int pulsante = 7; 
const int transistor = 5; 
int stato=0; // All'inizio il sistema è spento. 
int val=0; // Memorizza il valore dello stato tra un ciclo e l'altro 
int luce;
void setup() {
pinMode(verde, OUTPUT); // Inizializzo l'uscita dei pin verdi. 
 pinMode(rosso, OUTPUT); // Inizializzo l'uscita dei pin rossi. 
 pinMode(pulsante, INPUT); // Inizializzo l'uscita dei pin del pulsante 
 pinMode(transistor, OUTPUT); 
 pinMode(A0,INPUT);
}
 
 void loop() { 
 val = digitalRead(pulsante); // Leggo lo stato del segnale (se o cliccato o no) 
 delay(10); 
 
 if (val == HIGH) { // E' un trucchetto per conservare il valore 
 stato = 1 - stato; // della scelta fatta col pulsante. 
 } 
 
 if (stato == HIGH) { // Se ho premuto il pulsante accendo il sistema 
 digitalWrite(rosso, LOW); 
 digitalWrite(verde, HIGH); 
 digitalWrite(transistor, 1); 
 luce = analogRead(A0); 
 
 if (luce&lt;100) { 
 tone(3, 440); 
 }
 
 else noTone(3); // Da eliminare nel caso spiegato nel paragrafo "All'opera" 
 } 
 
 else { // Se non ho premuto il pulsante accendo il red rosso 
 noTone(3); 
 digitalWrite(verde, LOW); 
 digitalWrite(rosso, HIGH); 
 digitalWrite(transistor, 0); 
 } 
}</pre><h2><span style="line-height: 1.5;">Il circuito</span></h2><p>Se avete capito il codice (e non è molto difficile dato che l'ho riempito di commenti) vi sarete già fatti un'idea di come assemblare il tutto. A scanso di equivoci io ho dato il mio circuito (da prendere con le pinze perchè fatto in notte inoltrata):</p><figure class="aligncenter size-full wp-image-986"><a href="https://fisicisenzapalestra.github.io/blog/media/posts/86/jjj.png"><img class="lazyload" data-src="https://fisicisenzapalestra.github.io/blog/media/posts/86/jjj.png" data-sizes="auto" data-srcset="https://fisicisenzapalestra.github.io/blog/media/posts/86/responsive/jjj-xs.png 300w ,https://fisicisenzapalestra.github.io/blog/media/posts/86/responsive/jjj-sm.png 480w ,https://fisicisenzapalestra.github.io/blog/media/posts/86/responsive/jjj-md.png 768w ,https://fisicisenzapalestra.github.io/blog/media/posts/86/responsive/jjj-lg.png 1024w ,https://fisicisenzapalestra.github.io/blog/media/posts/86/responsive/jjj-xl.png 1360w ,https://fisicisenzapalestra.github.io/blog/media/posts/86/responsive/jjj-2xl.png 1600w" alt="jjj" data-aspectratio="1.203704" width="1755" height="1458"></a></figure><p></p><h2>All'opera!</h2><figure class="post__video"><iframe class="lazyload" width="560" height="314" data-src="https://www.youtube.com/embed/9_bgkiAvchY" allowfullscreen="allowfullscreen" data-mce-fragment="1"></iframe></figure><p>Nella prova il sistema era collegato ad un computer ed ho dovuto utilizzare uno specchio per far sì che il laser colpisse il fotodiodo. In realtà, avendo la possibilità di saldare o semplicemente collegare dei fili più lunghi è possibile rimuovere il problema dello specchio e utilizzando l'alimentazione esterna avere un vero e proprio sistema di allarme.</p><p><strong>PS</strong>: per comodità nel progetto ho fatto in modo che «l'allarme» si spenga quando il laser torni ad incidere sul fotodiodo. Questa scelta non è molto coerente con un impianto di allarme, ma visto che dovevo fare delle prove in casa (dove non abito da solo) per la salvaguardia del clima pacifico ho impostato questa cosa. Per modificare questa opzione basta eliminare il <em><strong>noTone(3)</strong></em> che ho commentato (sì lo so sono troppo buono).</p><p>Buona fortuna Billy!</p></div><footer class="wrapper post__footer"><ul class="post__tag"><li><a href="https://fisicisenzapalestra.github.io/blog/arduino/">Arduino</a></li></ul><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ffisicisenzapalestra.github.io%2Fblog%2Fallarme-laser-fai-da-te-con-arduino.html" class="js-share facebook" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://fisicisenzapalestra.github.io/blog/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/share?url=https%3A%2F%2Ffisicisenzapalestra.github.io%2Fblog%2Fallarme-laser-fai-da-te-con-arduino.html&amp;via=%40fisicisenzapalestra&amp;text=Allarme%20laser%20fai%20da%20te%20con%20Arduino" class="js-share twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://fisicisenzapalestra.github.io/blog/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span> </a><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Ffisicisenzapalestra.github.io%2Fblog%2Fallarme-laser-fai-da-te-con-arduino.html&amp;title=Allarme%20laser%20fai%20da%20te%20con%20Arduino" class="js-share linkedin" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://fisicisenzapalestra.github.io/blog/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span> </a><a href="https://wa.me/?text=Allarme%20laser%20fai%20da%20te%20con%20Arduino https%3A%2F%2Ffisicisenzapalestra.github.io%2Fblog%2Fallarme-laser-fai-da-te-con-arduino.html" class="js-share whatsapp" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://fisicisenzapalestra.github.io/blog/assets/svg/svg-map.svg#whatsapp"/></svg> <span>WhatsApp</span></a></div><div class="post__bio bio"><img class="lazyload bio__avatar" data-src="https://fisicisenzapalestra.github.io/blog/media/website/lozioraf.jpg" alt="Raffaele Farinaro"><div class="bio__info"><h3 class="bio__name"><a href="https://fisicisenzapalestra.github.io/blog/authors/raffaele-farinaro/" class="invert" rel="author">Raffaele Farinaro</a></h3><p>Se il blog esiste è solo colpa sua. Mezzo campano e mezzo abruzzese ha la fissa per gli ologrammi, la divulgazione scientifica e Iron Man. E la pizza.</p></div></div></footer></article><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2020-04-13T17:24" class="feed__date">13/04/2020</time></div><h3 class="h1"><a href="https://fisicisenzapalestra.github.io/blog/5-buoni-motivi-per-comprare-arduino.html" class="invert">5 buoni motivi per comprare Arduino</a></h3></article></div></div><div class="post__comments"><div class="wrapper"><h2 class="h5">Comments</h2><div id="disqus_thread"></div><script>var disqus_config = function () {
                       this.page.url = 'https://fisicisenzapalestra.github.io/blog/allarme-laser-fai-da-te-con-arduino.html';
               		this.page.identifier = '86';
                       this.page.title = ' Allarme laser fai da te con Arduino';
                   };
               
                   var disqus_loaded = false;
               
                   function publiiLoadDisqus() {
                       if(disqus_loaded) {
                           return false;
                       }
               
                       var top = document.getElementById('disqus_thread').offsetTop;
               
                       if (!disqus_loaded && (window.scrollY || window.pageYOffset) + window.innerHeight > top) {
                           disqus_loaded = true;
               
                           (function () {
                               var d = document, s = d.createElement('script');
                               s.src = 'https://fisicisenzapalestra.disqus.com/embed.js';
                               s.setAttribute('data-timestamp', +new Date());
                               (d.head || d.body).appendChild(s);
                           })();
                       }
                   }
               
                   publiiLoadDisqus();
               
                   window.onscroll = function() {
                       publiiLoadDisqus();
                   };</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="nofollow noopener noreferrer">comments powered by Disqus.</a></noscript></div></div></main><footer class="footer"><div class="footer__social"><a href="https://www.facebook.com/fisicisenzapalestra/" aria-label="Facebook"><svg><use xlink:href="https://fisicisenzapalestra.github.io/blog/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/fisicisp" aria-label="Twitter"><svg><use xlink:href="https://fisicisenzapalestra.github.io/blog/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.instagram.com/fisicisenzapalestra/" aria-label="Instagram"><svg><use xlink:href="https://fisicisenzapalestra.github.io/blog/assets/svg/svg-map.svg#instagram"/></svg> </a><a href="https://www.youtube.com/user/fisicisenzapalestra" aria-label="Youtube"><svg><use xlink:href="https://fisicisenzapalestra.github.io/blog/assets/svg/svg-map.svg#youtube"/></svg></a></div><div class="footer__copyright">Progetto open culture ideato da <a href="https://www.linkedin.com/in/raffaele-farinaro/">Raffaele Farinaro</a> ed <a href="https://www.linkedin.com/in/anna-chiara-giovannelli-a0165b89/">Anna Chiara Giovannelli</a>.</div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://fisicisenzapalestra.github.io/blog/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://fisicisenzapalestra.github.io/blog/assets/js/scripts.min.js?v=205f40927e4a45297a0b266e50ad78d5"></script><script>var lazyFeaturedImage=function lazyFeaturedImage(){var b=document.querySelectorAll(".hero__image-img");for(var a=0;a<b.length;a++){var c=b[a];c.addEventListener("lazyloaded",function(f){var d=f.target.parentNode;d.classList.add("hero__image--overlay")})}};lazyFeaturedImage();</script><div class="cookie-popup js-cookie-popup cookie-popup--uses-badge"><h2>Questo sito utilizza cookies</h2><p>Continuando, stai accettando questo inevitabile fatto. <a href="https://fisicisenzapalestra.github.io/blog/privacy-policy.html">Ulteriori informazioni</a></p><form><input id="gdpr-necessary" name="gdpr-necessary" checked="checked" disabled="disabled" type="checkbox"> <label for="gdpr-necessary">Required</label><p class="cookie-popup__save-wrapper"><button type="submit" class="cookie-popup__save">Ricevuto!</button></p></form><span class="cookie-popup-label">Cookie Policy</span></div><script>(function() {
                function addScript (src, inline) {
                    var newScript = document.createElement('script');

                    if (src) {
                        newScript.setAttribute('src', src);
                    }

                    if (inline) {
                        newScript.text = inline;
                    }

                    document.body.appendChild(newScript);
                }

                var popup = document.querySelector('.js-cookie-popup');
                var checkboxes = popup.querySelectorAll('input[type="checkbox"]');
                var save = popup.querySelector('button');
                var currentConfig = localStorage.getItem('publii-gdpr-allowed-cookies');
                var blockedScripts = document.querySelectorAll('script[type^="gdpr-blocker/"]');
                

                popup.addEventListener('click', function() {
                    if (!popup.classList.contains('cookie-popup--is-sticky')) {
                        popup.classList.add('cookie-popup--is-sticky');
                    }
                });

                save.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    popup.classList.remove('cookie-popup--is-sticky');
                    var allowedGroups = [];

                    for (var i = 0; i < checkboxes.length; i++) {
                        if (checkboxes[i].checked) {
                            var groupName = checkboxes[i].getAttribute('name').replace('gdpr-', '');
                            var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + groupName + '"]');

                            for (var j = 0; j < scripts.length; j++) {
                                addScript(scripts[j].src, scripts[j].text);
                            }

                            allowedGroups.push(groupName);
                        }
                    }

                    localStorage.setItem('publii-gdpr-allowed-cookies', allowedGroups.join(','));
                    popup.classList.remove('cookie-popup--is-sticky');

                    setTimeout(function () {
                        if (currentConfig !== null) {
                            window.location.reload();
                        }
                    }, 250);
                });

                if (currentConfig === null) {
                    popup.classList.add('cookie-popup--is-sticky');
                } else {
                    if (currentConfig !== '') {
                        var allowedGroups = currentConfig.split(',');

                        for (var i = 0; i < allowedGroups.length; i++) {
                            var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroups[i] + '"]');
                            var checkbox = popup.querySelector('input[type="checkbox"][name="gdpr-' + allowedGroups[i] + '"]');

                            if (checkbox) {
                                checkbox.checked = true;
                            }

                            for (var j = 0; j < scripts.length; j++) {
                                addScript(scripts[j].src, scripts[j].text);
                            }
                        }
                    }
                }
            })();</script></body></html>